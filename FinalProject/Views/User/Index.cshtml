@model FinalProject.Models.ApplicationUser

@{
    ViewBag.Title = Model.UserName;
}

<h2>@Model.UserName</h2>
<p style="float:left;">@Model.FirstName @Model.LastName</p>
<p style="float: right;">@Html.RouteLink("View all posts by this user.","Username",new {username=Model.UserName})</p>
<br/>
<hr/>

<div class="post-list">
    @if (Model.Posts.Count > 0)
    {
        <h4>@Model.UserName's most recent post:</h4>
        <div class="post-list-item">
            @{
                var post = Model.Posts.Single(x => x.CreationDate == Model.Posts.Select(y => y.CreationDate).Min());
                <h5>
                    @Html.ActionLink(post.Title, "Details", "Post", new {id = post.Id}, new {@class = "post-list-item-title"})
                </h5>
                <p>
                    @post.Content
                </p>
            }
        </div>
    }
    else
    {
        <h4>@Model.UserName has not posted anything yet.</h4>
    }
</div>
<hr/>
<div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'testingexpit'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
